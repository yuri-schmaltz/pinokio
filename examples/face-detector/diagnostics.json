{
  "steps": [
    {
      "description": "System CPU Info",
      "type": "shell",
      "command": "echo '=== CPU ===' && python3 -c \"import os; print(f'Cores: {os.cpu_count()}')\" && python3 -c \"import psutil; print(f'Usage: {psutil.cpu_percent()}%')\" 2>/dev/null || echo 'psutil not installed'"
    },
    {
      "description": "System Memory",
      "type": "shell",
      "command": "echo '=== Memory ===' && python3 -c \"import psutil; mem = psutil.virtual_memory(); print(f'Total: {mem.total / 1e9:.1f}GB, Available: {mem.available / 1e9:.1f}GB')\" 2>/dev/null || free -h"
    },
    {
      "description": "Disk Space",
      "type": "shell",
      "command": "echo '=== Disk Space ===' && df -h | head -5"
    },
    {
      "description": "Python Environment",
      "type": "shell",
      "command": "echo '=== Python ===' && python3 --version && echo \"Venv: {{$home}}/.venv\" && if [ -d '{{$home}}/.venv' ]; then echo '✓ Virtual environment exists'; else echo '✗ No virtual environment'; fi"
    },
    {
      "description": "Installed Packages",
      "type": "shell",
      "command": "echo '=== Packages ===' && cd {{$home}} && source .venv/bin/activate 2>/dev/null && pip list 2>/dev/null | grep -E 'opencv|numpy|flask|pillow' || echo 'Could not list packages'"
    },
    {
      "description": "Diagnostics complete",
      "type": "shell",
      "command": "echo '✅ Diagnostics finished'"
    }
  ]
}
